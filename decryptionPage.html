<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EncodeX Encryption</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
<body class="font-serif">
    <video autoplay muted loop playsinline class="absolute inset-0 w-full h-full object-cover z-0">
        <source src="pixelate.mp4" type="video/mp4"/>
        Your browser does not support the video tag.
    </video>
    <div class="absolute inset-0 bg-black/0 backdrop-blur-sm z-10 shadow-inner"></div>
    <div class="relative z-10 p-8 text-center sm:text-center text-amber-50">
        <h2 class="text-2xl sm:text-3xl">ðŸ”“ DecodeX: &nbsp;&nbsp;Secure Decryption, Made Simple.</h2>
    </div>
    <div class="grid grid-cols-1 md:grid-cols-3 h-auto md:min-h-screen">
        <div class="bg-gray-200 md:col-span-1 sm:rounded-md border-white border-2 shadow-gray-400/50 z-10 mt-4 md:mt-0 p-5">
            <h2 class="text-center text-gray-800 text-lg md:text-xl font-bold underline">Instructions</h2>
            <ul class="list-disc pl-5 space-y-3 mt-5">
                <li>Select the decryption type: Symmetric or Asymmetric key.</li>
                <li>Enter your encrypted message and the key provided during encryption.</li>
                <li>Click on "DecodeX" to decrypt the message.</li>
            </ul>
        </div>
        <div class="md:col-span-2 bg-blue-200 p-6 rounded-md border-white border-2 shadow-gray-400/50 z-10">
            <h2 class="text-lg text-center text-black mb-5">Decrypt Like a Pro. Decode with DecodeX. ðŸ§ </h2>
            <form id="decryptForm" class="bg-white p-6 rounded-lg shadow-lg w-full md:w-[80%] mx-auto">
                <label for="decryptType" class="block mb-2 text-sm font-medium text-gray-700">Choose Decryption Type:</label>
                <select id="decryptType" name="decryptType" class="w-full p-2 border border-gray-300 rounded-lg mb-4">
                    <option value="symmetric">Decryption using Symmetric key</option>
                    <option value="asymmetric">Decryption using Asymmetric key</option>
                </select>
                <input id="encryptedMessage" name="encryptedMessage" class="w-full p-2 border border-gray-300 rounded-lg mb-4" placeholder="Encrypted Message" required>
                <input id="key" name="key" class="w-full p-2 border border-gray-300 rounded-lg mb-4" placeholder="Decryption Key" required>
                <button id="decodeButton" type="button" class="w-full bg-blue-600 text-white p-2 rounded-lg hover:bg-blue-700">DecodeX</button>
                <input id="decryptedMessage" readonly class="w-full p-2 border border-gray-300 rounded-lg mt-4" placeholder="Decrypted Message will appear here">
            </form>
        </div>
    </div>
    <footer class="bg-black text-white text-center py-3">Created by team@Stackoverflowers</footer>

    <script>
        document.getElementById("decodeButton").addEventListener("click", async function() {
            const decryptType = document.getElementById("decryptType").value;
            const encryptedMessage = document.getElementById("encryptedMessage").value;
            const key = document.getElementById("key").value;

            const response = await fetch("decrypt.php", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ decryptType, encryptedMessage, key })
            });

            const result = await response.json();

            if (result.decryptedMessage) {
                document.getElementById("decryptedMessage").value = result.decryptedMessage;
            } else {
                alert(result.error || "Decryption failed.");
            }
        });
    </script>
</body>
</html>
